{% load static %}
<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="Travelin Responsive HTML Admin Dashboard Template based on Bootstrap 5">
	<meta name="author" content="Travelin">
  <link rel="shortcut icon" type="image/x-icon" href="{% static 'image/home/Magnet%20logo.png' %}">
  <title>Vacation Feast</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
  <!-- End fonts -->

	<!-- core:css -->
	<link rel="stylesheet" href="{% static 'vendors/core/core.css' %}">
	<!-- endinject -->

	<!-- Plugin css for this page -->
  <link rel="stylesheet" href="{% static 'vendors/bootstrap-datepicker/bootstrap-datepicker.min.css' %}">
	<!-- End plugin css for this page -->

	<!-- inject:css -->
	<link rel="stylesheet" href="{% static 'css/css/iconfont.css' %}">
	<!-- endinject -->

  <!-- Layout styles -->  
	<link rel="stylesheet" href="{% static 'css/css/style.css' %}">
  <!-- End layout styles -->

  <link rel="shortcut icon" href="../images/favicon.png" />
</head>
<body>
	<div class="main-wrapper">

		<!-- sidebar starts -->
        {% include 'home/aside.html' %}
    <!-- sidebar Ends -->
	
		<div class="page-wrapper">
					
			<!-- navbar Starts -->
            {% include 'home/adminheader.html' %}
			<!-- navbar Ends -->
<!-- ---------------------------------------------my work contend---------------------------------- -->



      <!-- Page Content Starts -->
			<div class="page-content">

				<nav class="page-breadcrumb d-flex align-items-center justify-content-between">
					<ol class="breadcrumb mb-0">
						<li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Dashboard</a></li>
						<li class="breadcrumb-item"><a href="#">Homepage</a></li>
            <li class="breadcrumb-item"><a href="#">Theme 1 </a></li>
						<li class="breadcrumb-item active" aria-current="page">Slider</li>
					</ol>
          <!-- <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addslider"><i class="link-icon" data-feather="plus"></i> Add Slider</button> -->
				</nav>

        <!-- <div class="search-box p-4 bg-white rounded mb-3 box-shadow">
          <form class="forms-sample">
            <div class="row align-items-center">
              <div class="col-lg-3">
                <h5>Slider Lists</h5>
              </div>
              <div class="col-lg-6 col-md-4">
                <input type="text" placeholder="Search by slider title" class="form-control">
              </div>
              <div class="col-lg-3 col-md-4">
                <select class="form-select form-select-lg">
                  <option selected>Category</option>
                  <option value="1">One</option>
                  <option value="2">Two</option>
                  <option value="3">Three</option>
                </select>
              </div>
            </div>
          </form>
        </div> -->
        <div class="row">
          <div class="col-md-12 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <div class="">
                      <table id="dataTableExample" class="table">
                        <thead class="text-center">
                          <tr >
                            <th>S.No</th>
                            <th>Date</th>
                            <th>Destination</th>
                            <th>Image</th>
                            <th>Action</th>
                            
                          </tr>
                          <div class="row d-flex align-items-center mb-2">
                            <div class="col-lg-10 text-center">
                              <h3 class="mb-0 theme">Home Page</h3>
                              <p>Theme 1 - Slider</p>
                            </div>
                            <div class="col-lg-2 text-end">
                              <button class="btn btn-primary px-3 py-2 rounded fw-bold" data-bs-toggle="modal" data-bs-target="#addslider-addteam"><i class="link-icon" data-feather="plus"></i> Add Slider</button>
                            </div>
                          </div>
            
                        </thead>
                       
                        <tbody class="text-center">
                        {% for slider in Homeslider %}
                          <tr class="text-center">
                            <td>{{ forloop.counter }}</td>
                           
                            <td>{{ slider.description.update_date }}</td>
                            <td>{{ slider.description.HomeDestinationName }}</td>
                           
                            <td class="w-25"><img class="w-75" style="height: 70px;" src="{% static 'image/homepageslider_image/' %}{{ slider.description.SliderImage }}"></td>
                            <td class="text-center">
                                <ul class="d-flex list-unstyled mb-0 justify-content-center">
                                <li class="me-2">
                                    <a href="#" data-bs-toggle="modal" data-bs-target="#editSlider{{slider.id}}">
                                        <i class="link-icon" data-feather="edit"></i>
                                    </a>
                                </li> 
                                <li>
                                    <a href="#" onclick="confirmDeleteTags('{{ slider.id }}')">
                                         <i class="link-icon" data-feather="delete"></i>
                                      </a>
                                </li>
                          
                          <script>
                              function confirmDeleteTags(blogId) {
                                  if (confirm("Are you sure you want to delete this Home page slider?")) {
                                    //   window.location.href = "{% url 'Homepage_slider_delete' slider.id %}"
                                    window.location.href = "{% url 'Homepage_slider_delete' team_id=0 %}".replace('0', blogId);
                                  } else {
                                      // Do nothing or handle cancellation
                                  }
                              }
                          </script>
                                </ul>
                              </td>
                          </tr>
                        {% endfor %}
                        </tbody>
                      
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>

       
			
        
        <!-- <div class="row">
          <div class="dataTables_paginate">
                <ul class="pagination">
                  <li class="paginate_button page-item">
                    <a href="#" class="page-link">Previous</a>
                  </li>
                  <li class="paginate_button page-item active"><a href="#" class="page-link">1</a></li>
                  <li class="paginate_button page-item"><a href="#" class="page-link">2</a></li>
                  <li class="paginate_button page-item"><a href="#" class="page-link">3</a></li>
                  <li class="paginate_button page-item"><a href="#" class="page-link">Next</a></li>
                </ul>
            </div>
        </div> -->

			</div>
      <!-- Page Content Ends -->

      
<!-- -------------------------------------------------------page contend ----------------------------------- -->
			<!-- footer Starts -->
      <footer class="footer d-flex flex-column flex-md-row align-items-center justify-content-between px-4 py-3 border-top small">
        <p class="text-muted mb-1 mb-md-0">Copyright Â© 2022 <a href="../index.html" target="_blank">Vacation Feast</a>.</p>
        <!-- <p class="text-muted">Powered By <i class="mb-1 text-primary ms-1 icon-sm" data-feather="heart"></i> Bizberg Themes</p> -->
      </footer>
      <!-- footer Ends -->
	
		</div>
	</div>

 
  <!-- Add Team Modal -->
<div class="modal fade" id="addslider-addteam" tabindex="-1" aria-labelledby="editSlider" aria-hidden="true">
  <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header text-center">
              <h3 class="modal-title" id="addTeamModalLabel">Add Slider</h3>
              <span class="black">Homepage - Slider</span>
          </div>
          <div class="modal-body">
              <form class="forms-sample bg-grey rounded m-1 p-2" action="{% url 'Homepage_slider_add' %}" method="POST" enctype="multipart/form-data">
                  {% csrf_token %}
                  <div class="mb-3">
                    <label for="TeamName" class="form-label">Sector</label>
                    <select class="form-select" name="SelectIn_do" id="SelectIn_do">
                            <option value="">Select</option>
                            <option value="0">International</option>
                            <option value="1">Domestic</option>
                    </select>
                </div>
                  <div class="mb-3">
                    <label for="TeamName" class="form-label">Destination</label>
                    <select class="form-select" name="HomeDestinationName" id="HomeDestinationName">
                        <option value=""></option>
                        <!--<optgroup label="International">-->
                        <!--    {% for internation in Internation %}-->
                        <!--    <option value="{{ internation.id }}">{{ internation.destination_name }}</option>-->
                        <!--    {% endfor %}-->
                        <!--</optgroup>-->
                        
                        <!--<optgroup label="Domestic">-->
                        <!--    {% for domestic in Domestic %}-->
                        <!--    <option value="{{ domestic.id }}">{{ domestic.destination_name }}</option>-->
                        <!--    {% endfor %}-->
                        <!--</optgroup>-->
                    </select>
                </div>
                <script>
                  document.getElementById("SelectIn_do").addEventListener("change", function() {
                      var selectIn_do = this.value;
                      var destinationSelect = document.getElementById("HomeDestinationName");
                      var destinationContainer = document.getElementById("destinationContainer");
                      
                      // Clear previous options
                      destinationSelect.innerHTML = '<option value=""></option>';
              
                      if (selectIn_do === "0") { // International
                          {% for internation in Internation %}
                              destinationSelect.innerHTML += '<option value="{{ internation.destination_slug }}">{{ internation.destination_name }}</option>';
                          {% endfor %}
                      } else if (selectIn_do === "1") { // Domestic
                          {% for domestic in Domestic %}
                              destinationSelect.innerHTML += '<option value="{{ domestic.destination_slug }}">{{ domestic.destination_name }}</option>';
                          {% endfor %}
                      }
              
                      // Show or hide destination container based on selection
                      destinationContainer.style.display = selectIn_do === "" ? "none" : "block";
                  });
              </script>
                
              <!--  <div class="mb-3">-->
              <!--      <label for="TeamName" class="form-label">Slider Destination Url</label>-->
              <!--      <input type="text" class="form-control" id="SliderTitle" name="SliderTitle" autocomplete="off">-->
              <!--  </div>-->
              <!--   <script>-->
              <!--    document.addEventListener("DOMContentLoaded", function() {-->
              <!--        document.getElementById('HomeDestinationName').addEventListener('change', function() {-->
              <!--            var selectedOption = this.options[this.selectedIndex];-->
              <!--            document.getElementById('SliderTitle').value = selectedOption.text;-->
              <!--        });-->
              <!--    });-->
              <!--</script>-->
                  
                  <!-- <div class="mb-3">
                    <label for="TeamName" class="form-label">Slider Content</label>
                    <input type="text" class="form-control"  id="SliderContent" name="SliderContent" autocomplete="off">
                 </div> -->
                    <div class="mb-3">
                        <label for="upload" class="form-label">Slider Image<span class="bg-white px-1 mx-2 py-1 rounded">Size 1880 x 1150</span></label>
                        <input class="form-control  form-width" required  type="file" name="SliderImage" id="SliderImage" >
                    </div>

                    <div class="text-center">
                        <button type="submit" class="btn btn-primary rounded-pill py-1 mx-1">Add</button>
                        <button type="button" class="btn btn-primary rounded-pill black bg-white py-1 mx-1" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
                    </div>
              </form>
          </div>
      </div>
  </div>
</div>

<!-- Edit Team Modal -->
{% for team in Homeslider %}
<div class="modal fade" id="editSlider{{ team.id }}" tabindex="-1" aria-labelledby="editSlider{{ team.id }}" aria-hidden="true">
  <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header text-center">
              <h5 class="modal-title" id="editTeamModalLabel{{ team.id }}">Edit Slider</h5>
              <span class="black">Homepage - Slider</span>
          </div>
          <div class="modal-body">
            <form class="forms-sample  bg-grey rounded m-1 p-2" action="{% url 'Homepage_slider_Edit' team_id=team.id %}" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="mb-3">
                  <label for="TeamName" class="form-label">Sector</label>
                  <input type="hidden" class="select-5" id="new-{{team.description.Select_In_do}}" value="{{team.description.Select_In_do}}">
                  <select class="form-select show-5" name="up-Select_In_do" id="up-SelectIn_do{{ team.id }}">
                          <option value="">select</option>
                          <option value="0">International</option>
                          <option value="1">Domestic</option>
                  </select>
              </div>
                <div class="mb-3">
                    <label for="TeamName" class="form-label">Destination</label>
                    <input type="hidden" class="select-4" id="new-{{team.description.HomeDestinationName}}" value="{{team.description.HomeDestinationName}}">
                    <select class="form-select show-4"  name="HomeDestinationName" id="HomeDestinationName{{ team.id }}">
                      <option value=""></option>
                      <optgroup label="International">
                        {% for internation in Internation %}
                          <option value="{{internation.destination_slug}}">{{internation.destination_name}}</option>
                        {% endfor %}
                      </optgroup>
                      
                      <optgroup label="Domestic">
                        {% for domestic in Domestic %}
                          <option value="{{domestic.destination_slug}}">{{domestic.destination_name}}</option>
                        {% endfor %}
                      </optgroup>
                  </select>
                </div>
                  <script>
                  document.getElementById("up-SelectIn_do{{ team.id }}").addEventListener("change", function() {
                      var selectIn_do = this.value;
                      var destinationSelect = document.getElementById("HomeDestinationName{{ team.id }}");
                      var destinationContainer = document.getElementById("destinationContainer");
                      
                      // Clear previous options
                      destinationSelect.innerHTML = '<option value=""></option>';
              
                      if (selectIn_do === "0") { // International
                          {% for internation in Internation %}
                              destinationSelect.innerHTML += '<option value="{{ internation.destination_slug }}">{{ internation.destination_name }}</option>';
                          {% endfor %}
                      } else if (selectIn_do === "1") { // Domestic
                          {% for domestic in Domestic %}
                              destinationSelect.innerHTML += '<option value="{{ domestic.destination_slug }}">{{ domestic.destination_name }}</option>';
                          {% endfor %}
                      }
              
                      // Show or hide destination container based on selection
                      destinationContainer.style.display = selectIn_do === "" ? "none" : "block";
                  });
              </script>
            <!--    <div class="mb-3">-->
            <!--      <label for="TeamName" class="form-label">Slider Destination Url</label>-->
            <!--      <input type="text" class="form-control" id="SliderTitle{{ team.id }}" name="SliderTitle" value="{{team.description.SliderTitle}}" autocomplete="off">-->
            <!--   </div>-->
            <!--    <script>-->
            <!--    document.addEventListener("DOMContentLoaded", function() {-->
            <!--        document.getElementById('HomeDestinationName{{ team.id }}').addEventListener('change', function() {-->
            <!--            var selectedOption = this.options[this.selectedIndex];-->
            <!--            document.getElementById('SliderTitle{{ team.id }}').value = selectedOption.text;-->
            <!--        });-->
            <!--    });-->
            <!--</script>-->
                
                <!-- <div class="mb-3">
                  <label for="TeamName" class="form-label">Slider Content</label>
                  <input type="text" class="form-control"  id="SliderContent" value="{{team.description.SliderContent}}" name="SliderContent" autocomplete="off">
               </div> -->
                  <div class="mb-3">
                    <label for="upload" class="form-label">Slider Image<span class="bg-white px-1 mx-2 py-1 rounded">Size 1880 x 1150</span></label>
                      <input class="form-control  form-width" value="{{team.description.SliderImage}}"  type="file" name="SliderImage" id="SliderImage" >
                  </div>

                  <div class="text-center">
                    <button type="submit" class="btn btn-primary rounded-pill py-1 mx-1">Add</button>
                    <button type="button" class="btn btn-primary rounded-pill black bg-white py-1 mx-1" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
                </div>
            </form>
          </div>
      </div>
  </div>
</div>
{% endfor %}

<script>
  document.addEventListener("DOMContentLoaded", function() {
      var selectTourValues = document.querySelectorAll(".select-4");
      var showTourValues = document.querySelectorAll(".show-4");

      selectTourValues.forEach(function(select, index) {
          var selectTourValue = select.value;
          var showTourValue = showTourValues[index];

          // Loop through the options to find the one that matches the input value
          for (var k = 0; k < showTourValue.options.length; k++) {
              if (showTourValue.options[k].value === selectTourValue) {
                showTourValue.options[k].selected = true;
                  break;
              }
          }

          // Add event listener for change event on the select element
          showTourValue.addEventListener("change", function() {
              // Update the value of the hidden input to match the selected option
              select.value = this.value;
          });
      });
  });
</script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
      var selectTourValues = document.querySelectorAll(".select-5");
      var showTourValues = document.querySelectorAll(".show-5");

      selectTourValues.forEach(function(select, index) {
          var selectTourValue = select.value;
          var showTourValue = showTourValues[index];

          // Loop through the options to find the one that matches the input value
          for (var k = 0; k < showTourValue.options.length; k++) {
              if (showTourValue.options[k].value === selectTourValue) {
                showTourValue.options[k].selected = true;
                  break;
              }
          }

          // Add event listener for change event on the select element
          showTourValue.addEventListener("change", function() {
              // Update the value of the hidden input to match the selected option
              select.value = this.value;
          });
      });
  });
</script>
	<!-- core:js -->
  <script src="{% static 'vendors/core/core.js' %}"></script>
  <!-- endinject -->

  <!-- Plugin js for this page -->
  <script src="{% static 'vendors/tinymce/tinymce.min.js' %}"></script>
  <script src="{% static 'vendors/bootstrap-datepicker/bootstrap-datepicker.min.js' %}"></script>
  <!-- End plugin js for this page -->

  <!-- inject:js -->
  <script src="{% static 'vendors/feather-icons/feather.min.js' %}"></script>
  <script src="{% static 'js/admin/template.js' %}"></script>
  <!-- endinject -->

  <!-- Custom js for this page -->
  <script src="{% static 'js/admin/tinymce.js' %}"></script>
  <script src="{% static 'js/admin/datepicker.js' %}"></script>
  <!-- End custom js for this page -->

  <!-- Css -->
  <style>
    .theme {
      color: #029e9d !important;
    }

    .black {
      color: black !important;
    }
    .bg-grey{ 
      background: #f1f1f1  !important;
    }
  </style>
  <!-- Css -->


</body>
</html> 