{% load static %}
<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="description" content="Travelin Responsive HTML Admin Dashboard Template based on Bootstrap 5">
	<meta name="author" content="Travelin">
  <link rel="shortcut icon" type="image/x-icon" href="{% static 'image/home/Magnet%20logo.png' %}">
  <title>Vacation Feast</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
  <!-- End fonts -->

	<!-- core:css -->
	<link rel="stylesheet" href="{% static 'vendors/core/core.css' %}">
	<!-- endinject -->

	<!-- Plugin css for this page -->
  <link rel="stylesheet" href="{% static 'vendors/bootstrap-datepicker/bootstrap-datepicker.min.css' %}">
	<!-- End plugin css for this page -->

	<!-- inject:css -->
	<link rel="stylesheet" href="{% static 'fonts/feather-font/css/iconfont.css' %}">
	<!-- endinject -->

  <!-- Layout styles -->  
  <link rel="stylesheet" href="{% static 'css/css/style.css' %}">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- End layout styles -->

  <link rel="shortcut icon" href="../images/favicon.png" />
</head>
<body>
	<div class="main-wrapper">

		<!-- sidebar starts -->
    {% include 'home/aside.html' %}
    <!-- sidebar Ends -->
	
		<div class="page-wrapper">
					
			<!-- navbar Starts -->
			{% include 'home/adminheader.html' %}
			<!-- navbar Ends -->

      <!-- Page Content Starts -->

			<div class="page-content">

				<nav class="page-breadcrumb d-flex align-items-center justify-content-between">
					<ol class="breadcrumb mb-0">
						<li class="breadcrumb-item"><a href="{% url 'dashboard' %}" >Dashboard</a></li>
						<li class="breadcrumb-item"><a href="#" >Packages</a></li>
						<li class="breadcrumb-item active" aria-current="page">Edit Packages</li>
					</ol>
          <a href="{% url 'packagesadmin' %}" class="btn btn-primary"><i class="link-icon" data-feather="arrow-left"></i> Back To List</a>
				</nav>

				<div class="row">
					<div class="col-md-12 grid-margin stretch-card">
              <div class="card">
                  <div class="card-body">
                      <form class="row forms-sample">
                        <input type="hidden" value="{{ blog_entry_id }}" name="id" id="id">
                            <div class="col-lg-6 mb-3">
                              <label for="uploadGrid" class="form-label">Grid Images<span class="bg-grey px-1 mx-2 py-1 rounded">Size 800 x 534</span></label>
                              <img src="{% static description.grid_image_url %}" id="gridImagePreview" width="100" height="40">
                              <input class="form-control" type="file" id="uploadGrid"  onchange="previewImage(this, 'gridImagePreview')">
                            </div>
                            
                            <div class="col-lg-6 mb-3">
                                <label for="uploadCover" class="form-label">Desktop Banner Image<span class="bg-grey px-1 mx-2 py-1 rounded">Size 1800 x 1200</span></label>
                                <img src="{% static description.cover_image_url %}" id="coverImagePreview" width="100" height="40">
                                <input class="form-control" type="file" id="uploadCover" onchange="previewImage(this, 'coverImagePreview')">
                              </div>
                              <div class="col-lg-6 mb-3">
                                <label for="uploadCover" class="form-label">Tab Banner Image</label>
                                <img src="{% static description.cover_image_url1 %}" id="TabImagePreview" width="100" height="40">
                                <input class="form-control" type="file" id="TabCover" onchange="previewImage(this, 'TabImagePreview')">
                              </div>
                              <div class="col-lg-6 mb-3">
                                <label for="uploadCover" class="form-label">Mobile Banner Image</label>
                                <img src="{% static description.cover_image_url2 %}" id="MobileImagePreview" width="100" height="40">
                                <input class="form-control" type="file" id="MobileCover" onchange="previewImage(this, 'MobileImagePreview')">
                              </div>
                              <script>
                                function previewImage(input, imageId) {
                                    var reader = new FileReader();
                                    reader.onload = function(e) {
                                        document.getElementById(imageId).src = e.target.result;
                                    };
                                    reader.readAsDataURL(input.files[0]);
                                }
                            </script>         
                            <div class="col-lg-4 mb-3">
                                <label for="Noofdays" class="form-label">No of Days</label>
                                <input type="text" class="form-control" id="Noofdays" autocomplete="off" placeholder="" value="{{ description.Noofdays }}">
                            </div>
                            <!--<div class="col-lg-3 mb-3">-->
                            <!--    <label for="rating" class="form-label">Star Rating</label>-->
                            <!--    <input type="number" class="form-control" id="rating" placeholder="" min="0" max="5" value="{{ description.rating }}">-->
                            <!--</div>-->
                            <div class="col-lg-4 mb-3">
                                <label for="price" class="form-label">Price Details</label>
                                <input type="text" class="form-control" id="price" placeholder="" value="{{ description.price }}">
                              </div>
                              <div class="col-lg-4 mb-3">
                                <label for="person" class="form-label">Person Details</label>
                                <input type="text" class="form-control" id="person" placeholder="" value="{{ description.person }}">
                              </div>
                          <div class="col-lg-4 mb-3">
                            <label for="place1" class="form-label">Country</label>
                            <input type="text" class="form-control" id="place1" autocomplete="off" placeholder="" value="{{ description.place1 }}">
                          </div>
                          <div class="col-lg-4 mb-3">
                            <label for="place2" class="form-label">Package Name</label>
                            <input type="text" class="form-control" id="place2" placeholder="" value="{{ description.place2 }}">
                          </div>
                          <!--<div class="col-lg-4 mb-3">-->
                          <!--  <label for="url" class="form-label">URL</label>-->
                          <!--  <input type="text" class="form-control" id="url" placeholder="" value="{{ description.url }}">-->
                          <!--</div>-->
                          <div class="col-lg-4 mb-3">
                            <label for="destination" class="form-label">Destination</label>
                            <select class="form-select" id="destinationType" name="destinationType">
                                <option value=" ">Please select the destination</option>
                                <option value="international">International</option>
                                <option value="domestic">Domestic</option>
                            </select>
                        </div>
                        <input type="hidden" id="selectedDestinationType" name="selectedDestinationType" value="{{ description.destinationtype }}">

                        <script>
                            // Function to update hidden input field with selected destination type
                            function updateSelectedDestinationType() {
                                var selectElement = document.getElementById("destinationType");
                                var selectedValue = selectElement.value;
                                document.getElementById("selectedDestinationType").value = selectedValue;
                            }

                            // Add event listener for change event on destination type select
                            document.getElementById("destinationType").addEventListener("change", function() {
                                updateSelectedDestinationType();
                            });
                        </script>
                        
                        <div id="internationalSelect" style="display: none;" class="col-lg-6 mb-3">
                            <label for="international" class="form-label">International Destination</label>
                            <select class="form-select Show-city" id="internationalDestination" name="up-DestinationName">
                                <option value=""></option>
                                {% for internation in Internation %}
                                <option value="{{internation.id}}">{{internation.destination_name}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        
                        <div id="domesticSelect" style="display: none;" class="col-lg-6 mb-3">
                            <label for="domestic" class="form-label">Domestic Destination</label>
                            <select class="form-select Show-city" id="domesticDestination" name="up-DestinationName">
                                <option value=""></option>
                                {% for domestic in Domestic %}
                                <option value="{{domestic.id}}">{{domestic.destination_name}}</option>
                                {% endfor %}
                            </select>
                        </div>

                         <!-- Hidden input field to store the selected destination value -->
                         <input type="hidden" id="selectedDestinationId" name="selectedDestinationId" value="{{ destination_package_id }}">
                         <!-- Hidden input field to store the selected destination name -->
                         <input type="hidden" id="selectedDestinationName" name="selectedDestinationName" value="{{ description.cities }}">

                        
                        <script>
                            // Function to update hidden input field with selected value
                            function updateSelectedValue(selectId) {
                              var selectElement = document.getElementById(selectId);
                              var selectedOption = selectElement.options[selectElement.selectedIndex];
                              var selectedId = selectedOption.value;
                              var selectedName = selectedOption.text;
                              document.getElementById("selectedDestinationId").value = selectedId;
                              document.getElementById("selectedDestinationName").value = selectedName;
                            }
                    
                            // Add event listeners for change events on select boxes
                            document.getElementById("internationalDestination").addEventListener("change", function() {
                                updateSelectedValue("internationalDestination");
                            });
                    
                            document.getElementById("domesticDestination").addEventListener("change", function() {
                                updateSelectedValue("domesticDestination");
                            });
                    
                            // Add event listener for change event on destination type select
                            document.getElementById("destinationType").addEventListener("change", function() {
                                var selectedValue = this.value;
                                if (selectedValue === "international") {
                                    document.getElementById("internationalSelect").style.display = "block";
                                    document.getElementById("domesticSelect").style.display = "none";
                                    updateSelectedValue("internationalDestination");
                                } else if (selectedValue === "domestic") {
                                    document.getElementById("internationalSelect").style.display = "none";
                                    document.getElementById("domesticSelect").style.display = "block";
                                    updateSelectedValue("domesticDestination");
                                } else {
                                    document.getElementById("internationalSelect").style.display = "none";
                                    document.getElementById("domesticSelect").style.display = "none";
                                    document.getElementById("selectedDestination").value = ""; // Clear value if no option is selected
                                    document.getElementById("selectedDestinationName").value = ""; // Clear value if no option is selected
                                }
                            });
                        </script>
                           
                            <div class="col-lg-4 mb-3">
                              <label for="description" class="form-label">Description</label>
                              <textarea class="form-control" name="tinymce" id="description" rows="2">{{ description.descriptions }}</textarea>
                            </div>
                            <div class="col-lg-4 mb-3">
                                <label for="metaTitle" class="form-label">Meta title</label>
                                <textarea class="form-control" name="tinymce" id="metaTitle" rows="2">{{ description.meta_title }}</textarea>
                            </div>
                            <div class="col-lg-4 mb-3">
                                <label for="metaDescription" class="form-label">Meta Description</label>
                                <textarea class="form-control" name="tinymce" id="metaDescription" rows="2">{{ description.meta_description }}</textarea>
                            </div>
                            <div class="col-lg-6 mb-3">
                                <label for="metaKeywords" class="form-label">Meta Keywords</label>
                                <textarea class="form-control" name="tinymce" id="metaKeywords" rows="2">{{ description.meta_keywords }}</textarea>
                            </div>
                            <div class="col-lg-6 mb-3">
                                <label for="metaKeywords" class="form-label">Canonical tag</label>
                                <textarea class="form-control" name="canonical" id="canonical" rows="2">{{ description.canonical }}</textarea>
                            </div>
                            <h4 class="mb-3">Highlights</h4>
                         <div class="row py-3 rounded" style="background:#f1f1f1;margin:1px;">
                            <div class="input-container col-lg-4">
                              <label for="TeamNamemodify" class="form-label">Lead</label>
                              <input type="hidden" class="select" id="new-{{lead_id}}" value="{{lead_id}}">
                              <input type="text" class="form-input form-control" id="searchInput" placeholder="Search...">
                              <select class="form-select form-control Show" id="selectOptions" name="selectleadid" size="1"  onchange="getSelectedText()">
                                  {% for lead in Lead_details %}
                                  <option value="{{lead.id}}">{{lead.leadNumber}}</option>
                                  {% endfor %}
                              </select>
                          </div>
      
                          <script>
                          document.addEventListener('DOMContentLoaded', function() {
                              const searchInput = document.getElementById('searchInput');
                              const selectOptions = document.getElementById('selectOptions');
                              const originalOptions = Array.from(selectOptions.options);
      
                              function filterOptions(searchTerm) {
                                  const filteredOptions = originalOptions.filter(option => option.textContent.toLowerCase().includes(searchTerm));
                                  selectOptions.size = filteredOptions.length > 1 ? filteredOptions.length : 1;
                                  selectOptions.innerHTML = '';
                                  filteredOptions.forEach(option => selectOptions.appendChild(option.cloneNode(true)));
                              }
      
                              searchInput.addEventListener('input', function() {
                                  filterOptions(this.value.toLowerCase());
                                  selectOptions.size = 1; // Reset the size to 1 when typing in the search box
                              });
      
                              selectOptions.addEventListener('change', function() {
                                  const selectedOption = selectOptions.options[selectOptions.selectedIndex];
                                  const selectedValue = selectedOption.value;
                                //   alert("Selected Value: " + selectedValue);
                              });
                          });
                          </script>
                          <input type="hidden" class="new-id-1" id="leadName" value="{{description.leadName}}">
                            <script>
                            function getSelectedText() {
                                    var selectElement = document.getElementById("selectOptions");
                                    var selectedText = selectElement.options[selectElement.selectedIndex].text;
                                    console.log("Selected text: " + selectedText);
                        
                                    var inputElement = document.querySelector(".new-id-1");
                                    inputElement.value = selectedText;
                                }
                            </script>
                          <div class="mb-3 col-lg-4">
                            <label for="TeamNamemodify" class="form-label">Url in pakage page</label>
                            <input type="text" class="form-control" id="up-Urlinpakage" value="{{ description.Url_in_lead }}"  required name="Urlinpakage"  autocomplete="off">
                        </div>
                        <div class="mb-3 col-lg-4">
                          <label for="TeamNamemodify" class="form-label">pakage Heading</label>
                          <input type="text" class="form-control" id="up-pakageHeading" value="{{ description.leadpakageHeading }}"  required name="pakageHeading"  autocomplete="off">
                      </div>
                      
                          <div class="mb-3 col-lg-4">
                              <label for="TeamNamemodify" class="form-label">Days</label>
                              <input type="text" class="form-control" id="up-Days" value="{{ description.leadDays_nights }}" required name="Days"  autocomplete="off">
                          </div>
                          <div class="mb-3 col-lg-4">
                 
                              <label for="TeamNamemodify" class="form-label">Transfers</label>
                              <input  class="form-control form-width" required name="TRANSFERS" id="up-TRANSFERS" value="{{ description.leadTransfers }}">
                               
                          </div>
                        
                       
                          <div class="mb-3 col-lg-4">
                              <label for="TeamNamemodify" class="form-label">Hotel(Stay)</label>
                              <input type="text" class="form-control" id="up-HOTEL" value="{{ description.leadHotel }}" name="HOTEL"  autocomplete="off">
                          </div>
                       
                       
                          <div class="mb-3 col-lg-4">
                              <label for="TeamNamemodify" class="form-label">Meals</label>
  
                              <input class="form-control form-width" required name="BREAKFAST" id="up-BREAKFAST" value="{{ description.leadBreakfast }}">
                            
                          </div>
                          <div class="mb-3 col-lg-4">
                              <label for="TeamNamemodify" class="form-label">Sightseeing</label>
        
                              <input class="form-control form-width Show-city3" required name="SIGHTSEEING" id="up-SIGHTSEEING" value="{{ description.leadSightseeing }}">
                                
                          </div>
                          <div class="mb-3 col-lg-4">
                              <label for="TeamNamemodify" class="form-label">Category</label>
                         
                              <input class="form-control form-width" required name="CATEGORY" id="up-CATEGORY" value="{{ description.leadCategory }}">
                                
                          </div>        
                            <!-- <label for="description" class="form-label">Package details</label>
                            <textarea id="myTextarea" class="tinymce-editor">
                              {{ description.richtextarea }}
                            </textarea>End TinyMCE Editor  -->
                              <script>
                                tinymce.init({
                                    selector: 'textarea#tinymceExample',
                                    plugins: 'advlist autolink lists link image charmap print preview anchor',
                                    toolbar: 'undo redo | formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image'
                                });
                             </script>
                        </div>
                          <div class="text-center mt-3">
                            <button type="submit" id="submitButton" class="btn btn-primary"><i class="link-icon" data-feather="plus"></i> Update Package</button>
                          </div>
                        </form>
                        <script>
                            $(document).ready(function() {
                                $('#submitButton').click(function(event) {
                                    event.preventDefault();
                        
                                    // Get file objects
                                    var id = $('#id').val();
                                    var coverImageFile = document.getElementById('uploadCover').files[0];
                                    var TabCover = document.getElementById('TabCover').files[0];
                                    var MobileCover = document.getElementById('MobileCover').files[0];
                                    var gridImageFile = document.getElementById('uploadGrid').files[0];
                                    // var richtextarea = tinymce.get("myTextarea").getContent();
                                    // Get other input values
                                    var Noofdays = $('#Noofdays').val();
                                    // var rating = document.getElementById('rating').value;
                                    var price = $('#price').val();
                                    var person = $('#person').val();
                                    var place1 = $('#place1').val();
                                    var place2 = $('#place2').val();
                                    var content = $('#description').val();
                                    var leadName = $('#leadName').val();
                                    var description = $('#description').val();
                                    var destination_package_id = document.getElementById("selectedDestinationId").value
                                    var destination_package_name = document.getElementById("selectedDestinationName").value
                                    var destinationtype = document.getElementById("selectedDestinationType").value
                                    
                                    var metaTitle = $('#metaTitle').val();
                                    var metaDescription = $('#metaDescription').val();
                                    var metaKeywords = $('#metaKeywords').val();
                                    var canonical = $('#canonical').val();


                                    var itinerayid = $('#selectOptions').val();
                                    var Url_lead = $('#up-Urlinpakage').val();
                                    var Days = $('#up-Days').val();
                                    var TRANSFERS = $('#up-TRANSFERS').val();
                                    var HOTEL = $('#up-HOTEL').val();
                                    var BREAKFAST = $('#up-BREAKFAST').val();
                                    var SIGHTSEEING = $('#up-SIGHTSEEING').val();
                                    var CATEGORY = $('#up-CATEGORY').val();
                                    var pakageHeading = $('#up-pakageHeading').val();
                        
                                    // Create FormData object to send to backend
                                    var formData = new FormData();
                                    formData.append('id', id);
                                    formData.append('Cover_Image', coverImageFile);
                                    formData.append('TabCover', TabCover);
                                    formData.append('MobileCover', MobileCover);
                                    formData.append('Grid_Image', gridImageFile);
                                    formData.append('Noofdays', Noofdays);
                                    // formData.append('rating', rating);
                                    formData.append('price', price);
                                    formData.append('person', person);
                                    formData.append('place1', place1);
                                    formData.append('place2', place2);
                                    formData.append('description', description);
                                    formData.append('content', content);
                                    formData.append('leadName', leadName);
                                    formData.append('destination_package_id', destination_package_id);
                                    formData.append('metaTitle', metaTitle);
                                    formData.append('metaDescription', metaDescription);
                                    formData.append('metaKeywords', metaKeywords);
                                    // formData.append('richtextarea', richtextarea);
                                    formData.append('destination_package_name', destination_package_name);
                                    formData.append('destinationtype', destinationtype);
                                    formData.append('canonical', canonical);


                                    formData.append('itinerayid', itinerayid);
                                    formData.append('Url_lead', Url_lead);
                                    formData.append('Days', Days);
                                    formData.append('TRANSFERS', TRANSFERS);
                                    formData.append('HOTEL', HOTEL);
                                    formData.append('BREAKFAST', BREAKFAST);
                                    formData.append('SIGHTSEEING', SIGHTSEEING);
                                    formData.append('CATEGORY', CATEGORY);
                                    formData.append('pakageHeading', pakageHeading);
                                    
                                    
        
                                    var csrftoken = document.cookie.match(/csrftoken=([\w-]+)/)[1];
                        
                                    // Make AJAX request
                                    $.ajax({
                                        type: 'POST',
                                        headers: {
                                            'X-CSRFToken': csrftoken // Include CSRF token in headers
                                        },
                                        url: '/addpackages/', // Replace with your backend URL
                                        data: formData,
                                        processData: false,
                                        contentType: false,
                                        success: function(response) {
                                            // Handle success response
                                            window.location.href = '/packagesadmin/';
                                        },
                                        error: function(xhr, status, error) {
                                            // Handle error
                                            console.error(xhr.responseText);
                                        }
                                    });
                                    // function getCSRFToken() {
                                    //     return $('input[name="csrfmiddlewaretoken"]').val();
                                    // }
                                });
                            });
                        </script>
                  </div>
              </div>
					</div>
				</div>

        <!-- <div class="row">
          <div class="dataTables_paginate">
                <ul class="pagination">
                  <li class="paginate_button page-item">
                    <a href="#" class="page-link">Previous</a>
                  </li>
                  <li class="paginate_button page-item active"><a href="#" class="page-link">1</a></li>
                  <li class="paginate_button page-item"><a href="#" class="page-link">2</a></li>
                  <li class="paginate_button page-item"><a href="#" class="page-link">3</a></li>
                  <li class="paginate_button page-item"><a href="#" class="page-link">Next</a></li>
                </ul>
            </div>
        </div> -->

			</div>
			<!-- Page Content Ends -->

			<!-- footer Starts -->
      <!-- <footer class="footer d-flex flex-column flex-md-row align-items-center justify-content-between px-4 py-3 border-top small">
        <p class="text-muted mb-1 mb-md-0">Copyright Â© 2022 <a href="../index.html" target="_blank">Travelin</a>.</p>
        <p class="text-muted">Powered By <i class="mb-1 text-primary ms-1 icon-sm" data-feather="heart"></i> Bizberg Themes</p>
      </footer> -->
      <!-- footer Ends -->
	
		</div>
	</div>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
        var selectTourValues = document.querySelectorAll(".select");
        var showTourValues = document.querySelectorAll(".Show");
  
        selectTourValues.forEach(function(select, index) {
            var selectTourValue = select.value;
            var showTourValue = showTourValues[index];
  
            // Loop through the options to find the one that matches the input value
            for (var k = 0; k < showTourValue.options.length; k++) {
                if (showTourValue.options[k].value === selectTourValue) {
                  showTourValue.options[k].selected = true;
                    break;
                }
            }
  
            // Add event listener for change event on the select element
            showTourValue.addEventListener("change", function() {
                // Update the value of the hidden input to match the selected option
                select.value = this.value;
            });
        });
    });
  </script>
   <script>
    document.addEventListener("DOMContentLoaded", function() {
        var selectTourValues = document.querySelectorAll(".select-city1");
        var showTourValues = document.querySelectorAll(".Show-city1");
  
        selectTourValues.forEach(function(select, index) {
            var selectTourValue = select.value;
            var showTourValue = showTourValues[index];
  
            // Loop through the options to find the one that matches the input value
            for (var k = 0; k < showTourValue.options.length; k++) {
                if (showTourValue.options[k].value === selectTourValue) {
                  showTourValue.options[k].selected = true;
                    break;
                }
            }
  
            // Add event listener for change event on the select element
            showTourValue.addEventListener("change", function() {
                // Update the value of the hidden input to match the selected option
                select.value = this.value;
            });
        });
    });
  </script>
   <script>
    document.addEventListener("DOMContentLoaded", function() {
        var selectTourValues = document.querySelectorAll(".select-city2");
        var showTourValues = document.querySelectorAll(".Show-city2");
  
        selectTourValues.forEach(function(select, index) {
            var selectTourValue = select.value;
            var showTourValue = showTourValues[index];
  
            // Loop through the options to find the one that matches the input value
            for (var k = 0; k < showTourValue.options.length; k++) {
                if (showTourValue.options[k].value === selectTourValue) {
                  showTourValue.options[k].selected = true;
                    break;
                }
            }
  
            // Add event listener for change event on the select element
            showTourValue.addEventListener("change", function() {
                // Update the value of the hidden input to match the selected option
                select.value = this.value;
            });
        });
    });
  </script>
   <script>
    document.addEventListener("DOMContentLoaded", function() {
        var selectTourValues = document.querySelectorAll(".select-city3");
        var showTourValues = document.querySelectorAll(".Show-city3");
  
        selectTourValues.forEach(function(select, index) {
            var selectTourValue = select.value;
            var showTourValue = showTourValues[index];
  
            // Loop through the options to find the one that matches the input value
            for (var k = 0; k < showTourValue.options.length; k++) {
                if (showTourValue.options[k].value === selectTourValue) {
                  showTourValue.options[k].selected = true;
                    break;
                }
            }
  
            // Add event listener for change event on the select element
            showTourValue.addEventListener("change", function() {
                // Update the value of the hidden input to match the selected option
                select.value = this.value;
            });
        });
    });
  </script>
   <script>
    document.addEventListener("DOMContentLoaded", function() {
        var selectTourValues = document.querySelectorAll(".select-city4");
        var showTourValues = document.querySelectorAll(".Show-city4");
  
        selectTourValues.forEach(function(select, index) {
            var selectTourValue = select.value;
            var showTourValue = showTourValues[index];
  
            // Loop through the options to find the one that matches the input value
            for (var k = 0; k < showTourValue.options.length; k++) {
                if (showTourValue.options[k].value === selectTourValue) {
                  showTourValue.options[k].selected = true;
                    break;
                }
            }
  
            // Add event listener for change event on the select element
            showTourValue.addEventListener("change", function() {
                // Update the value of the hidden input to match the selected option
                select.value = this.value;
            });
        });
    });
  </script>


<!-- core:js -->
<!-- core:js -->
<script src="{% static 'vendors/core/core.js' %}"></script>
<!-- endinject -->

<!-- Plugin js for this page -->
<script src="{% static 'vendors/chartjs/Chart.min.js'  %}"></script>
<script src="{% static 'vendors/jquery.flot/jquery.flot.js' %}"></script>
<script src="{% static 'vendors/jquery.flot/jquery.flot.resize.js' %}"></script>
<script src="{% static 'vendors/bootstrap-datepicker/bootstrap-datepicker.min.js' %}"></script>
<script src="{% static 'vendors/apexcharts/apexcharts.min.js' %}"></script>
  <!-- End plugin js for this page -->

  <!-- inject:js -->
  <script src="{% static 'vendors/feather-icons/feather.min.js' %}"></script>
  <script src="{% static 'js/admin/template.js' %}"></script>
  <!-- endinject -->

  <!-- Custom js for this page -->
<script src="{% static 'js/admin/dashboard-light.js' %}"></script>
<script src="{% static 'js/admin/datepicker.js' %}""></script>
  <!-- End custom js for this page -->
  <!-- <script src="{% static 'assets/vendors/tinymce/tinymce.min.js' %}"></script>

  <script src="{% static 'assets/js/tinymce.js' %}"></script> -->

<script src="{% static 'assets/vendor/tinymce/tinymce.min.js' %}"></script>
<!-- <script src="assets/vendor/php-email-form/validate.js"></script> -->

<!-- Template Main JS File -->
<script src="{% static 'assets/js/main.js' %}"></script>
  <!-- End custom js for this page -->

 <!-- Css -->
   <style>
    .theme {
      color: #029e9d !important;
    }

    .black {
      color: black !important;
    }
    .bg-grey{ 
      background: #f1f1f1  !important;
    }
    </style>
    <!-- Css -->
</body>
</html>    