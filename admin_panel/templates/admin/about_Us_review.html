{% load static %}
<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="description" content="Travelin Responsive HTML Admin Dashboard Template based on Bootstrap 5">
	<meta name="author" content="Travelin">
  <link rel="shortcut icon" type="image/x-icon" href="{% static 'image/home/Magnet logo.png' %}">
	<title>Vacation Feast</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
  <!-- End fonts -->

	<!-- core:css -->
	<link rel="stylesheet" href="{% static 'vendors/core/core.css' %}">
	<!-- endinject -->

	<!-- Plugin css for this page -->
  <link rel="stylesheet" href="{% static 'vendors/bootstrap-datepicker/bootstrap-datepicker.min.css' %}">
	<!-- End plugin css for this page -->

	<!-- inject:css -->
	<link rel="stylesheet" href="{% static 'css/css/iconfont.css' %}">
	<!-- endinject -->

  <!-- Layout styles -->  
	<link rel="stylesheet" href="{% static 'css/css/style.css' %}">
  <!-- End layout styles -->

  <link rel="shortcut icon" href="../images/favicon.png" />
</head>
<body>
	<div class="main-wrapper">

		<!-- sidebar starts -->
    {% include 'home/aside.html' %}
    <!-- sidebar Ends -->
	
		<div class="page-wrapper">
					
			<!-- navbar Starts -->
			{% include 'home/adminheader.html' %}
			<!-- navbar Ends -->
<!-- ---------------------------------------------my work contend---------------------------------- -->



    <!-- Page Content Starts -->
        <div class="page-content">

            <nav class="page-breadcrumb d-flex align-items-center justify-content-between">
                <ol class="breadcrumb mb-0">
                    <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Dashboard</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Client Reviews</li>
                </ol>
        <!-- <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addslider"><i class="link-icon" data-feather="plus"></i> Add Slider</button> -->
            </nav>

    <!-- <div class="search-box p-4 bg-white rounded mb-3 box-shadow">
        <form class="forms-sample">
        <div class="row align-items-center">
            <div class="col-lg-3">
            <h5>Slider Lists</h5>
            </div>
            <div class="col-lg-6 col-md-4">
            <input type="text" placeholder="Search by slider title" class="form-control">
            </div>
            <div class="col-lg-3 col-md-4">
            <select class="form-select form-select-lg">
                <option selected>Category</option>
                <option value="1">One</option>
                <option value="2">Two</option>
                <option value="3">Three</option>
            </select>
            </div>
        </div>
        </form>
    </div> -->
    
        
    <div class="row">
        <div class="col-md-12 grid-margin stretch-card">
        <div class="card">
            <div class="card-body">
            <div class="table-responsive">
                <table id="dataTableExample" class="table">
                <thead class="text-center">
                    <tr >
                    <th>ID</th>
                    <th>Changed date</th>
                    <th>Image</th>
                    <th>Client Name</th>
                    <th>Client star Rating</th>
                    <th class="text-center">Client Review</th>
                    <th class="text-center">Action</th>
                    </tr>
                    <div class="justify-content-between d-flex"><p class="mb-0 mt-1">About Us Client Review Details</p>
                    <button class="btn btn-primary px-4 py-2" data-bs-toggle="modal" data-bs-target="#addslider-review"><i class="link-icon" data-feather="plus"></i> Add Reviews</button>
                    </div>
            
                </thead>
                <tbody class="text-center">
                    {% for review in user_reviews_list %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>{{ review.content.curentdate }}</td>
                        <td class="w-25">
                            {% if review.content.image_path %}
                            <img src="{% static 'image/client_image/' %}{{ review.content.image_path }}" alt="image">
                            {% endif %}
                        </td>
                        <td>{{ review.content.ClientName }}</td>
                        <td>{{ review.content.Clientrating }}</td>
                        <td>{{ review.content.Client_content }}</td>
                        <td class="text-center">
                            <ul class="d-flex list-unstyled mb-0 justify-content-center">
                                <li>
                                  <a href="#" data-bs-toggle="modal" data-bs-target="#addslider-{{ review.id }}">
                                    <i class="link-icon" data-feather="edit"></i>
                                </a>
                              </li>
                                <li class="me-2">
                                   
                                    <a href="#" onclick="confirmDeleteTags('{{ review.id }}')">
                                  <i class="link-icon" data-feather="delete"></i>
                              </a>
                         
                          
                          <script>
                              function confirmDeleteTags(blogId) {
                                  if (confirm("Are you sure you want to delete this blog tag?")) {
                                    //   window.location.href = "{% url 'delete_review' review.id %}"
                                      window.location.href = "{% url 'delete_review' id=0 %}".replace('0', blogId);
                                  } else {
                                      // Do nothing or handle cancellation
                                  }
                              }
                          </script>
                                </li>
                                
                            </ul>
                        </td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
            </div>
            </div>
        </div>
                </div>
            </div>

    <!-- <div class="row">
        <div class="dataTables_paginate">
            <ul class="pagination">
                <li class="paginate_button page-item">
                <a href="#" class="page-link">Previous</a>
                </li>
                <li class="paginate_button page-item active"><a href="#" class="page-link">1</a></li>
                <li class="paginate_button page-item"><a href="#" class="page-link">2</a></li>
                <li class="paginate_button page-item"><a href="#" class="page-link">3</a></li>
                <li class="paginate_button page-item"><a href="#" class="page-link">Next</a></li>
            </ul>
        </div>
    </div> -->

        </div>
    <!-- Page Content Ends -->

      
<!-- -------------------------------------------------------page contend ----------------------------------- -->
		<!-- footer Starts -->
    <footer class="footer d-flex flex-column flex-md-row align-items-center justify-content-between px-4 py-3 border-top small">
      <p class="text-muted mb-1 mb-md-0">Copyright Â© 2022 <a href="../index.html" target="_blank">Vacation Feast</a>.</p>
      <!-- <p class="text-muted">Powered By <i class="mb-1 text-primary ms-1 icon-sm" data-feather="heart"></i> Bizberg Themes</p> -->
    </footer>
    <!-- footer Ends -->
	
		</div>
	</div>

 
  <div class="modal fade" id="addslider-review" tabindex="-1" aria-labelledby="addslider-review" aria-hidden="true">
    <div class="modal-dialog" >
      <div class="modal-content">
        <div class="modal-header text-center d-flex justify-content-between">
          <h5 class="modal-title" id="exampleModalLabel">Client Review</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form class="forms-sample" action="{% url 'client_review_insert' %}" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
          <div class="mb-3 row">
            <div class="mb-3 col-lg-7">
              <label for="subtitle" class="form-label">Client Name</label>
              <input type="text" class="form-control" id="subtitle" name="ClientName" autocomplete="off">
            </div>
            
            <div class="mb-3 col-lg-5">
              <label for="description" class="form-label">Client Star Rating</label>
              <select class="form-select" name="ClientRating" id="ClientRating">
                 <option value="1">1</option>
                 <option value="2">2</option>
                 <option value="3">3</option>
                 <option value="4">4</option>
                 <option value="5">5</option>
              </select>
            </div>
          
          <div class="mb-3 col-lg-6" >
            <label for="subtitle" class="form-label">Clientreview link</label>
            <input type="text" class="form-control" id="subtitle" name="reviewlink" autocomplete="off">
          </div>
          <div class="mb-3 col-lg-6">
              <label for="description" class="form-label">Client travel package</label>
              <select class="form-select" name="Clientpackage" id="Clientpackage">
                  {% for package in package_list %}
                 <option value="{{package.id}}">{{package.description.place1}}-{{package.description.place2}}</option>
                 {% endfor %}
                
              </select>
            </div>
            <div class="mb-3">
              <label for="description" class="form-label">Client Review Content</label>
              <textarea class="form-control" id="title" style="resize: none;" name="ClientReview" autocomplete="off"></textarea>
            </div>
            <div class="mb-3">
              <label for="upload" class="form-label">Client Images</label>
              <input class="form-control" required type="file" name="ClientImages" id="upload" >
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-primary"><i class="link-icon" data-feather="plus"></i> Create Content</button>
            </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  
  {% for review in user_reviews_list %}
  <div class="modal fade" id="addslider-{{ review.id }}" tabindex="-1" aria-labelledby="addslider-{{ review.id }}" aria-hidden="true">
    <div class="modal-dialog" >
      <div class="modal-content">
        <div class="modal-header text-center d-flex justify-content-between">
          <h5 class="modal-title" id="exampleModalLabel">Client Review</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form class="forms-sample" action="{% url 'client_review_update' review.id %}" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
          <div class="mb-3 row">
            <div class="mb-3 col-lg-7">
              <label for="subtitle" class="form-label">Client Name</label>
              <input type="text" class="form-control" id="subtitle" name="ClientName" autocomplete="off" value="{{ review.content.ClientName }}">
            </div>
            
            <div class="mb-3 col-lg-5">
              <label for="description" class="form-label">Client Star Rating</label>
              <input type="hidden" class="select-city2" id="new2-{{ review.content.Clientrating }}" value="{{ review.content.Clientrating }}">
              <select class="form-select Show-city2" name="ClientRating" id="ClientRating">
                 <option value="1">1</option>
                 <option value="2">2</option>
                 <option value="3">3</option>
                 <option value="4">4</option>
                 <option value="5">5</option>
              </select>
            </div>
          
          <div class="mb-3 col-lg-6" >
            <label for="subtitle" class="form-label">Clientreview link</label>
            <input type="text" class="form-control" id="subtitle" name="reviewlink" autocomplete="off" value="{{ review.content.reviewlink }}">
          </div>
          <div class="mb-3 col-lg-6">
              <label for="description" class="form-label">Client travel package</label>
              <input type="hidden" class="select-city3" id="new2-{{ review.content.Clientpackage }}" value="{{ review.content.Clientpackage }}">
              <select class="form-select Show-city3" name="Clientpackage" id="Clientpackage">
                  {% for package in package_list %}
                 <option value="{{package.id}}">{{package.description.place1}}-{{package.description.place2}}</option>
                 {% endfor %}
                
              </select>
            </div>
          
            <div class="mb-3">
              <label for="description" class="form-label">Client Review Content</label>
              <textarea class="form-control" id="title" style="resize: none;" name="ClientReview" autocomplete="off" >{{ review.content.Client_content }}</textarea>
            </div>
            <div class="mb-3">
              <label for="upload" class="form-label">Client Images</label>
              <input class="form-control"  type="file" name="ClientImages" id="upload" >
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-primary"><i class="link-icon" data-feather="plus"></i> Submit</button>
            </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
{% endfor %}

 <script>
    document.addEventListener("DOMContentLoaded", function() {
        var selectTourValues = document.querySelectorAll(".select-city2");
        var showTourValues = document.querySelectorAll(".Show-city2");
  
        selectTourValues.forEach(function(select, index) {
            var selectTourValue = select.value;
            var showTourValue = showTourValues[index];
  
            // Loop through the options to find the one that matches the input value
            for (var k = 0; k < showTourValue.options.length; k++) {
                if (showTourValue.options[k].value === selectTourValue) {
                  showTourValue.options[k].selected = true;
                    break;
                }
            }
  
            // Add event listener for change event on the select element
            showTourValue.addEventListener("change", function() {
                // Update the value of the hidden input to match the selected option
                select.value = this.value;
            });
        });
    });
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
        var selectTourValues = document.querySelectorAll(".select-city3");
        var showTourValues = document.querySelectorAll(".Show-city3");
  
        selectTourValues.forEach(function(select, index) {
            var selectTourValue = select.value;
            var showTourValue = showTourValues[index];
  
            // Loop through the options to find the one that matches the input value
            for (var k = 0; k < showTourValue.options.length; k++) {
                if (showTourValue.options[k].value === selectTourValue) {
                  showTourValue.options[k].selected = true;
                    break;
                }
            }
  
            // Add event listener for change event on the select element
            showTourValue.addEventListener("change", function() {
                // Update the value of the hidden input to match the selected option
                select.value = this.value;
            });
        });
    });
  </script>

	<!-- core:js -->
  <script src="{% static 'vendors/core/core.js' %}"></script>
  <!-- endinject -->

  <!-- Plugin js for this page -->
  <script src="{% static 'vendors/tinymce/tinymce.min.js' %}"></script>
  <script src="{% static 'vendors/bootstrap-datepicker/bootstrap-datepicker.min.js' %}"></script>
  <!-- End plugin js for this page -->

  <!-- inject:js -->
  <script src="{% static 'vendors/feather-icons/feather.min.js' %}"></script>
  <script src="{% static 'js/admin/template.js' %}"></script>
  <!-- endinject -->

  <!-- Custom js for this page -->
  <script src="{% static 'js/admin/tinymce.js' %}"></script>
  <script src="{% static 'js/admin/datepicker.js' %}"></script>
  <!-- End custom js for this page -->

</body>
</html>    