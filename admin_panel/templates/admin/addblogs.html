{% load static %}
<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="description" content="Travelin Responsive HTML Admin Dashboard Template based on Bootstrap 5">
	<meta name="author" content="Travelin">
  <link rel="shortcut icon" type="image/x-icon" href="{% static 'image/home/Magnet logo.png' %}">
  <title>Vacation Feast</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
  <!-- End fonts -->

	<!-- core:css -->
	<link rel="stylesheet" href="{% static 'vendors/core/core.css' %}">
	<!-- endinject -->

	<!-- Plugin css for this page -->
  <link rel="stylesheet" href="{% static 'vendors/bootstrap-datepicker/bootstrap-datepicker.min.css' %}">
	<!-- End plugin css for this page -->

	<!-- inject:css -->
	<link rel="stylesheet" href="{% static 'fonts/feather-font/css/iconfont.css' %}">
	<!-- endinject -->

  <!-- Layout styles -->  
  <link rel="stylesheet" href="{% static 'css/css/style.css' %}">
  <!-- End layout styles -->

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <link rel="shortcut icon" href="../images/favicon.png" />
  <style>
    textarea{
      resize: none;
    }
  </style>
</head>
<body>
	<div class="main-wrapper">

		<!-- sidebar starts -->
    {% include 'home/aside.html' %}
    <!-- sidebar Ends -->
	
		<div class="page-wrapper">
					
			<!-- navbar Starts -->
			{% include 'home/adminheader.html' %}
			<!-- navbar Ends -->

      <!-- Page Content Starts -->

			<div class="page-content">

				<nav class="page-breadcrumb d-flex align-items-center justify-content-between">
					<ol class="breadcrumb mb-0">
						<li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Dashboard</a></li>
						<li class="breadcrumb-item"><a href="#">Blogs</a></li>
						<li class="breadcrumb-item active" aria-current="page">Add Blogs</li>
					</ol>
          <a href="{% url 'blog_us_admin' %}" class="btn btn-primary"><i class="link-icon" data-feather="arrow-left"></i> Back To List</a>
				</nav>

				<div class="row">
					<div class="col-md-12 grid-margin stretch-card">
              <div class="card">
                  <div class="card-body">
                    <form id="myForm" class="row forms-sample">
                          <div class="col-lg-4 mb-3">
                              <label for="Banner_Image" class="form-label">Desktop Banner Image<span class="bg-grey px-1 mx-2 py-1 rounded">Size 1800 x 1200</span></label>
                              <input class="form-control" required type="file" id="Banner_Image">
                            </div>
                            <div class="col-lg-4 mb-3">
                              <label for="Banner_Image" class="form-label">Tab Banner Image</label>
                              <input class="form-control" required type="file" id="TabBanner_Image">
                            </div>
                            <div class="col-lg-4 mb-3">
                              <label for="Banner_Image" class="form-label">Mobile Banner Image</label>
                              <input class="form-control" required type="file" id="MobileBanner_Image">
                            </div>
                            <div class="col-lg-6 mb-3">
                                <label for="Cover_Image" class="form-label">Cover Image<span class="bg-grey px-1 mx-2 py-1 rounded">Size 1800 x 300</span></label>
                                <input class="form-control"  required type="file" id="Cover_Image">
                              </div>
                            <div class="col-lg-6 mb-3">
                              <label for="Grid_Image" class="form-label">Grid Image<span class="bg-grey px-1 mx-2 py-1 rounded">Size 750 x 500</span></label>
                              <input class="form-control"  required type="file" id="Grid_Image">
                            </div>
                            <div class="col-lg-4 mb-3">
                                <label for="hint" class="form-label">Hint</label>
                                <input type="text" class="form-control" id="hint" autocomplete="off" placeholder="">
                            </div>
                          <div class="col-lg-4 mb-3">
                            <label for="categorys" class="form-label">Category</label>
                            <input type="text" class="form-control" id="categorys" autocomplete="off" placeholder="">
                          </div>
                          <div class="col-lg-4 mb-3">
                            <label for="url" class="form-label">Url</label>
                            <input class="form-control" name="tinymce" id="url" rows="10"></input>
                          </div>
                          <div class="col-lg-3 mb-3">
                            <label for="author" class="form-label">Author Name</label>
                            <input type="text" class="form-control" id="author" placeholder="">
                          </div>
                          <div class="col-lg-5 mb-3">
                            <label for="tags" class="form-label">Tags</label>
                            <input type="text" id="selectedTags" class="form-control" style="background-color: white;" readonly>
                            <input type="hidden" id="selectedTagIds" name="selectedTagIds">
                          </div>
                            <div class="dropdown col-lg-2 mt-4 text-end">
                                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                                    Select Tags
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton" id="tagsDropdown">
                                    <!-- <li><input type="checkbox" id="category1" value="category1"> <label for="category1">Category 1</label></li>
                                    <li><input type="checkbox" id="category2" value="category2"> <label for="category2">Category 2</label></li> -->
                                    <!-- Add more options as needed -->
                                </ul>
                                
                            </div>
                            <div class="mt-4 col-lg-2">
                            <button id="sendTagsButton" class="btn btn-primary">Send Tags</button> <!-- Add this button -->
                            </div>
                            <script>
                              // Function to check the value of the hidden input and hide the element if the value is correct
                              function checkHiddenValue() {
                                  var hiddenValue = document.getElementById("UserRole").value;
                                  if (hiddenValue !== "admin" && hiddenValue !== "superadmin") {
                                      document.getElementById("sendTagsButton").style.display = "none";
                                  }
                              }
    
                              document.addEventListener("DOMContentLoaded", function() {
                                  checkHiddenValue();
                              });
                          </script>
                            <div id="accessDeniedMessage" style="display: none;">
                              <p>You do not have access to this page.</p>
                            </div>
                            
                        
                        <script>
                          document.addEventListener('DOMContentLoaded', function() {
                              const dropdownMenu = document.getElementById('tagsDropdown');
                      
                              // Fetch available tags from backend (Django model)
                              fetch('/tags_list/') // Replace '/api/tags/' with your Django backend URL to fetch tags
                              .then(response => response.json())
                              .then(data => {
                                  // Clear existing dropdown menu items
                                  dropdownMenu.innerHTML = '';
                      
                                  // Populate dropdown menu with fetched tags
                                  data.forEach(tag => {
                                      const listItem = document.createElement('li');
                                      listItem.innerHTML = `
                                          <input type="checkbox" id="${tag.id}" value="${tag.tag_name}">
                                          <label for="${tag.id}">${tag.tag_name}</label>
                                      `;
                                      dropdownMenu.appendChild(listItem);
                                  });
                              })
                              .catch(error => console.error('Error fetching tags:', error));
                      
                              // Rest of your JavaScript code
                          });
                      </script>                                         
                        <script>
                          $(document).ready(function() {
                          // Store selected tags
                          const selectedTags = new Set();

                          // Function to update the input field with selected tags
                          function updateSelectedTagsInput() {
                              $('#selectedTags').val([...selectedTags].join(', '));
                          }

                          // Event listener for checkbox change
                          $('#tagsDropdown').on('change', 'input[type="checkbox"]', function() {
                              const value = $(this).val();
                              if (this.checked) {
                                  selectedTags.add(value);
                              } else {
                                  selectedTags.delete(value);
                              }
                              updateSelectedTagsInput();
                          });

                          // Function to handle sending tags to backend
                          $('#sendTagsButton').click(function() {
                              const word = prompt("Please enter a word:");
                              if (word && word.trim() !== "") {
                                  // Send selected tags and word to the backend using AJAX
                                  const csrftoken = getCookie('csrftoken');
                                  $.ajax({
                                      url: "/blogtag/", // Specify your Django backend URL here
                                      type: "POST",
                                      data: {
                                          word: word,
                                          tags: [...selectedTags]
                                      },
                                      beforeSend: function(xhr, settings) {
                                          xhr.setRequestHeader("X-CSRFToken", csrftoken);
                                      },
                                      success: function(response) {
                                          console.log(response);
                                          location.reload();
                                      },
                                      error: function(xhr, errmsg, err) {
                                          console.log(xhr.status + ": " + xhr.responseText);
                                      }
                                  });
                              }
                          });
                      
                              // Function to get CSRF token from cookies
                              function getCookie(name) {
                                  var cookieValue = null;
                                  if (document.cookie && document.cookie !== '') {
                                      var cookies = document.cookie.split(';');
                                      for (var i = 0; i < cookies.length; i++) {
                                          var cookie = cookies[i].trim();
                                          // Does this cookie string begin with the name we want?
                                          if (cookie.substring(0, name.length + 1) === (name + '=')) {
                                              cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                                              break;
                                          }
                                      }
                                  }
                                  return cookieValue;
                              }
                      
                              // Check if access is denied and show the access denied message
                              var role = "{{ request.session.role }}";
                              if (role !== "admin" && hiddenValue !== "superadmin") {
                                  $("#accessDeniedMessage").show();
                              }
                          });
                      </script>                      
                        <script>
                          document.addEventListener('DOMContentLoaded', function() {
                              const dropdown = document.querySelector('.dropdown');
                              const checkboxes = document.querySelectorAll('#tagsDropdown input[type="checkbox"]');
                              const selectedTagsInput = document.getElementById('selectedTags');
                              const selectedValues = [];
                      
                              dropdown.addEventListener('click', function(event) {
                                  event.stopPropagation();
                              });
                      
                              checkboxes.forEach(function(checkbox) {
                                  checkbox.addEventListener('change', function() {
                                      const value = this.value;
                                      if (this.checked) {
                                          selectedValues.push(value);
                                      } else {
                                          const index = selectedValues.indexOf(value);
                                          if (index !== -1) {
                                              selectedValues.splice(index, 1);
                                          }
                                      }
                                      selectedTagsInput.value = selectedValues.join(', '); // Update the input box value
                                      // Call your function to handle the selected values in JavaScript here
                                      handleSelectedValues(selectedValues);
                                  });
                              });
                      
                              function handleSelectedValues(values) {
                                  // You can access the selected values here and perform further actions
                                  selectedTagsInput.value = values.join(', ');
                              }
                          });
                      </script>
                      <script>
                        // Store selected tag IDs
                        const selectedTagIds = new Set();

                        // Function to update the input fields with selected tags and their IDs
                        function updateSelectedTagsInputs() {
                            // $('#selectedTags').val([...selectedTags].join(', '));
                            $('#selectedTagIds').val([...selectedTagIds].join(','));
                        }

                        // Event listener for checkbox change
                        $('#tagsDropdown').on('change', 'input[type="checkbox"]', function() {
                            const value = $(this).val();
                            const id = $(this).attr('id'); // Get the ID of the tag
                            if (this.checked) {
                                // selectedTags.add(value);
                                selectedTagIds.add(id); // Store the ID
                            } else {
                                // selectedTags.delete(value);
                                selectedTagIds.delete(id); // Remove the ID
                            }
                            updateSelectedTagsInputs();
                        });
                      </script>
                      
                            <div class="col-lg-6 mb-3">
                              <label for="title" class="form-label">Title</label>
                              <textarea class="form-control" name="tinymce" id="title" rows="3"></textarea>
                            </div>
                            <div class="col-lg-6 mb-3">
                              <label for="description" class="form-label">Description</label>
                              <textarea class="form-control" name="tinymce" id="description" rows="3"></textarea>
                            </div>
                            <div class="col-lg-12 mb-3">
                                <label for="content" class="form-label">Content</label>
                                <textarea class="form-control" name="tinymce" id="content" rows="4"></textarea>
                              </div>
                            <div class="col-lg-12 mb-3">
                              <label for="jumpLinkTitles" class="form-label">Jump Link Titles</label>
                              <!-- <textarea class="form-control" name="tinymce" id="jumpLinkTitles" rows="10"></textarea> -->
                              <textarea id="jumpLinkTitles" class="tinymce-editor">
                              </textarea>
                            </div>
                            <hr>
                            <div class="col-lg-6 mb-3">
                                <label for="metaTitle" class="form-label">Meta title</label>
                                <textarea class="form-control" name="tinymce" id="metaTitle" rows="1"></textarea>
                            </div>
                            <div class="col-lg-6 mb-3">
                                <label for="metaDescription" class="form-label">Meta Description</label>
                                <textarea class="form-control" name="tinymce" id="metaDescription" rows="1"></textarea>
                            </div>
                            <div class="col-lg-6 mb-3">
                                <label for="metaKeywords" class="form-label">Canonical Tag</label>
                                <textarea class="form-control" name="Canonical" id="Canonical" rows="1"></textarea>
                            </div>
                            <div class="col-lg-6 mb-3">
                                <label for="metaKeywords" class="form-label">Meta Keywords</label>
                                <textarea class="form-control" name="tinymce" id="metaKeywords" rows="1"></textarea>
                            </div>
                            <hr> 
                            <!-- <label for="metaKeywords" class="form-label bold">Blog details </label> -->
                            <div class="text-center py-3"><h3>Blog details</h3></div>
                           
                          <div id="upenddiv" >
                            <div class="main-1 row">
                              <div id="blog_all_details1" class="col-lg-6">  
                                  
                                <div class="mb-3">
                                      <label for="Banner_Image" class="form-label">Image(960x350)</label>
                                      <input class="form-control"  type="file" id="blogImage1">
                                </div>
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Title</label>
                                  <input class="form-control" type="text" id="title1">
                                </div>
                                <textarea id="myTextarea" class="tinymce-editor"></textarea><!-- End TinyMCE Editor -->  
                              </div> 
                              <div id="blog_all_details2" class="col-lg-6">  
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Image(960x350)</label>
                                  <input class="form-control"  type="file" id="blogImage2">
                                </div>
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Title</label>
                                  <input class="form-control" type="text" id="title2">
                                </div>
                                <textarea id="myTextarea2" class="tinymce-editor"></textarea><!-- End TinyMCE Editor -->  
                              </div>
                              <div class="text-center" id="button-1">
                              <div  class="btn btn-primary mx-4 my-4 py-3"><i class="link-icon" data-feather="plus"></i>add</div>
                            </div>
                            </div>
                            <div class="main-2 row" id="main-2" >
                              <div id="blog_all_details3" class="col-lg-6" style="display: none;">  
                                <div class="mb-3" >
                                  <label for="Banner_Image" class="form-label">Image(960x350)</label>
                                  <input class="form-control"  type="file" id="blogImage3">
                                </div>
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Title</label>
                                  <input class="form-control" type="text" id="title3">
                                </div>
                                <textarea id="myTextarea3" class="tinymce-editor"></textarea><!-- End TinyMCE Editor -->  
                              </div>
                              <div id="blog_all_details4" class="col-lg-6" style="display: none;">  
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Image(960x350)</label>
                                  <input class="form-control"  type="file" id="blogImage4">
                                </div<div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Title</label>
                                  <input class="form-control" type="text" id="title4">
                                </div>
                                <textarea id="myTextarea4" class="tinymce-editor"></textarea><!-- End TinyMCE Editor -->  
                              </div> 
                              <div class="text-center" id="button-2" style="display: none;">
                                <div   class="btn btn-primary mx-4 my-4 py-3"><i class="link-icon" data-feather="plus"></i>add</div>
                              </div>
                            </div>
                            <div class="main-3 row" id="main-3" >
                              <div id="blog_all_details5" class="col-lg-6" style="display: none;">  
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Image(960x350)</label>
                                  <input class="form-control"  type="file" id="blogImage5">
                                </div>
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Title</label>
                                  <input class="form-control" type="text" id="title5">
                                </div>
                                <textarea id="myTextarea5" class="tinymce-editor"></textarea><!-- End TinyMCE Editor -->  
                              </div>
                              <div id="blog_all_details6" class="col-lg-6" style="display: none;">  
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Image(960x350)</label>
                                  <input class="form-control"  type="file" id="blogImage6">
                                </div>
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Title</label>
                                  <input class="form-control" type="text" id="title6">
                                </div>
                                <textarea id="myTextarea6" class="tinymce-editor"></textarea><!-- End TinyMCE Editor -->  
                              </div> 
                              <div class="text-center" id="button-3" style="display: none;">
                                <div  class="btn btn-primary mx-4 my-4 py-3"><i class="link-icon" data-feather="plus"></i>add</div>
                              </div>
                            </div>
                            <div class="main-4 row" >
                              <div id="blog_all_details7" class="col-lg-6" style="display: none;" >  
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Image(960x350)</label>
                                  <input class="form-control"  type="file" id="blogImage7">
                                </div>
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Title</label>
                                  <input class="form-control" type="text" id="title7">
                                </div>
                                <textarea id="myTextarea7" class="tinymce-editor"></textarea><!-- End TinyMCE Editor -->  
                              </div>
                              <div id="blog_all_details8" class="col-lg-6" style="display: none;">  
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Image(960x350)</label>
                                  <input class="form-control"  type="file" id="blogImage8">
                                </div>
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Title</label>
                                  <input class="form-control" type="text" id="title8">
                                </div>
                                <textarea id="myTextarea8" class="tinymce-editor"></textarea><!-- End TinyMCE Editor -->  
                              </div> 
                              <div class="text-center" id="button-4" style="display: none;">
                                <div   class="btn btn-primary mx-4 my-4 py-3"><i class="link-icon" data-feather="plus"></i>add</div>
                              </div>
                            </div>
                            <div class="main-5 row" >
                              <div id="blog_all_details9" class="col-lg-6" style="display: none;">  
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Image(960x350)</label>
                                  <input class="form-control"  type="file" id="blogImage9">
                                </div>
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Title</label>
                                  <input class="form-control" type="text" id="title9">
                                </div>
                                <textarea id="myTextarea9" class="tinymce-editor"></textarea><!-- End TinyMCE Editor -->  
                              </div>
                              <div id="blog_all_details10" class="col-lg-6" style="display: none;">  
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Image(960x350)</label>
                                  <input class="form-control"  type="file" id="blogImage10">
                                </div>
                                <div class="mb-3">
                                  <label for="Banner_Image" class="form-label">Title</label>
                                  <input class="form-control" type="text" id="title10">
                                </div>
                                <textarea id="myTextarea10" class="tinymce-editor"></textarea><!-- End TinyMCE Editor -->  
                              </div> 
                              <!-- <div class="text-center">
                                <button type="button" id="button-5" class="btn btn-primary mx-4 my-4 py-3"><i class="link-icon" data-feather="plus"></i>add</button>
                              </div> -->
                            </div>
                          </div>
                         <div class="text-center">
                            <button type="submit" id="submitButton" class="btn btn-primary mt-2"><i class="link-icon" data-feather="plus"></i> Submit</button>
                            <button class="btn btn-primary mt-2"  style="display: none;" id="loadingbutton" type="button" disabled>
                              <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                              Loading...
                            </button>
                            <div class="success-msg" id="successmsg"  style="display: none;">
                              <i class="fa fa-check"></i>
                              Blog is uploaded.
                            </div>
                          </div>
                          <script>
                            tinymce.init({
                                selector: 'textarea#tinymceExample',
                                plugins: 'advlist autolink lists link image charmap print preview anchor',
                                toolbar: 'undo redo | formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image'
                            });
                         </script>
                        </form>
                  </div>
                  <!-- Div that will be cloned -->



                  <script>
                    $(document).ready(function() {
                        $('#submitButton').click(function(event) {
                            event.preventDefault();

                            // // Validate inputs
                            // var isValid = true;

                            // // Example of required field validation
                            // $('input[type="text"], input[type="file"], textarea').each(function() {
                            //     if ($(this).val() === '') {
                            //         $(this).addClass('is-invalid');
                            //         isValid = false;
                            //     } else {
                            //         $(this).removeClass('is-invalid');
                            //     }
                            // });

                            // // If any field is empty, stop submission
                            // if (!isValid) {
                            //     return false;
                            // }
                
                            // Get file objects
                            var bannerImageFile = document.getElementById('Banner_Image').files[0];
                            var TabBanner_Image = document.getElementById('TabBanner_Image').files[0];
                            var MobileBanner_Image = document.getElementById('MobileBanner_Image').files[0];

                            var coverImageFile = document.getElementById('Cover_Image').files[0];
                            var gridImageFile = document.getElementById('Grid_Image').files[0];

                            var blogImage1 = document.getElementById('blogImage1').files[0];
                            var blogImage2 = document.getElementById('blogImage2').files[0];
                            var blogImage3 = document.getElementById('blogImage3').files[0];
                            var blogImage4 = document.getElementById('blogImage4').files[0];
                            var blogImage5 = document.getElementById('blogImage5').files[0];
                            var blogImage6 = document.getElementById('blogImage6').files[0];
                            var blogImage7 = document.getElementById('blogImage7').files[0];
                            var blogImage8 = document.getElementById('blogImage8').files[0];
                            var blogImage9 = document.getElementById('blogImage9').files[0];
                            var blogImage10 = document.getElementById('blogImage10').files[0];

                            var richtextarea1 = tinymce.get("myTextarea").getContent();
                            var richtextarea2 = tinymce.get("myTextarea2").getContent();
                            var richtextarea3 = tinymce.get("myTextarea3").getContent();
                            var richtextarea4 = tinymce.get("myTextarea4").getContent();
                            var richtextarea5 = tinymce.get("myTextarea5").getContent();
                            var richtextarea6 = tinymce.get("myTextarea6").getContent();
                            var richtextarea7 = tinymce.get("myTextarea7").getContent();
                            var richtextarea8 = tinymce.get("myTextarea8").getContent();
                            var richtextarea9 = tinymce.get("myTextarea9").getContent();
                            var richtextarea10 = tinymce.get("myTextarea10").getContent();
                            
                            var title1 = $('#title1').val();
                            var title2 = $('#title2').val();
                            var title3 = $('#title3').val();
                            var title4 = $('#title4').val();
                            var title5 = $('#title5').val();
                            var title6 = $('#title6').val();
                            var title7 = $('#title7').val();
                            var title8 = $('#title8').val();
                            var title9 = $('#title9').val();
                            var title10 = $('#title10').val();

                            var jumpLinkTitles = tinymce.get("jumpLinkTitles").getContent();
                            // Get other input values
                            var hint = $('#hint').val();
                            var category = $('#categorys').val();
                            var tags = document.getElementById('selectedTags').value;
                            var tagsid =  document.getElementById('selectedTagIds').value
                            var author = $('#author').val();
                            var url = $('#url').val();
                            var title = $('#title').val();
                            var description = $('#description').val();
                            var content = $('#content').val();
                            
                            var metaTitle = $('#metaTitle').val();
                            var metaDescription = $('#metaDescription').val();
                            var metaKeywords = $('#metaKeywords').val();
                            var Canonical = $('#Canonical').val();
                
                            // Create FormData object to send to backend
                            var formData = new FormData();
                            formData.append('Banner_Image', bannerImageFile);
                            formData.append('TabBanner_Image', TabBanner_Image);
                            formData.append('MobileBanner_Image', MobileBanner_Image);

                            formData.append('Cover_Image', coverImageFile);
                            formData.append('Grid_Image', gridImageFile);
                            formData.append('hint', hint);
                            formData.append('category', category);
                            formData.append('tags', tags);
                            formData.append('author', author);
                            formData.append('url', url);
                            formData.append('title', title);
                            formData.append('description', description);
                            formData.append('content', content);
                            formData.append('jumpLinkTitles', jumpLinkTitles);
                            formData.append('metaTitle', metaTitle);
                            formData.append('metaDescription', metaDescription);
                            formData.append('metaKeywords', metaKeywords);
                            formData.append('Canonical', Canonical);
                            formData.append('tagsid', tagsid);

                            formData.append('blogImage1', blogImage1);
                            formData.append('blogImage2', blogImage2);
                            formData.append('blogImage3', blogImage3);
                            formData.append('blogImage4', blogImage4);
                            formData.append('blogImage5', blogImage5);
                            formData.append('blogImage6', blogImage6);
                            formData.append('blogImage7', blogImage7);
                            formData.append('blogImage8', blogImage8);
                            formData.append('blogImage9', blogImage9);
                            formData.append('blogImage10', blogImage10);

                            formData.append('richtextarea1', richtextarea1);
                            formData.append('richtextarea2', richtextarea2);
                            formData.append('richtextarea3', richtextarea3);
                            formData.append('richtextarea4', richtextarea4);
                            formData.append('richtextarea5', richtextarea5);
                            formData.append('richtextarea6', richtextarea6);
                            formData.append('richtextarea7', richtextarea7);
                            formData.append('richtextarea8', richtextarea8);
                            formData.append('richtextarea9', richtextarea9);
                            formData.append('richtextarea10', richtextarea10);
                            
                            formData.append('title1', title1);
                            formData.append('title2', title2);
                            formData.append('title3', title3);
                            formData.append('title4', title4);
                            formData.append('title5', title5);
                            formData.append('title6', title6);
                            formData.append('title7', title7);
                            formData.append('title8', title8);
                            formData.append('title9', title9);
                            formData.append('title10', title10);
                            
                            

                            var csrftoken = document.cookie.match(/csrftoken=([\w-]+)/)[1];
                            
                            document.getElementById("submitButton").style.display = "none";
                            document.getElementById("loadingbutton").style.display = "block"; // or "block" based on your styling needs
                
                
                            // Make AJAX request
                            $.ajax({
                                type: 'POST',
                                headers: {
                                    'X-CSRFToken': csrftoken // Include CSRF token in headers
                                },
                                url: '/createblogs/', // Replace with your backend URL
                                data: formData,
                                processData: false,
                                contentType: false,
                                success: function(response) {
                                    // Handle success response
                                    document.getElementById("loadingbutton").style.display = "none";
                                    document.getElementById("successmsg").style.display = "block";
                                    window.location.href = '/blog_us_admin/';
                                    
                                },
                                error: function(xhr, status, error) {
                                    // Handle error
                                    console.error(xhr.responseText);
                                }
                            });
                            // function getCSRFToken() {
                            //     return $('input[name="csrfmiddlewaretoken"]').val();
                            // }
                        });
                    });
                </script>
              </div>
					</div>
				</div>

        <!-- <div class="row">
          <div class="dataTables_paginate">
                <ul class="pagination">
                  <li class="paginate_button page-item">
                    <a href="#" class="page-link">Previous</a>
                  </li>
                  <li class="paginate_button page-item active"><a href="#" class="page-link">1</a></li>
                  <li class="paginate_button page-item"><a href="#" class="page-link">2</a></li>
                  <li class="paginate_button page-item"><a href="#" class="page-link">3</a></li>
                  <li class="paginate_button page-item"><a href="#" class="page-link">Next</a></li>
                </ul>
            </div>
        </div> -->

			</div>
			<!-- Page Content Ends -->

	<!-- footer Starts -->
  <footer class="footer d-flex flex-column flex-md-row align-items-center justify-content-between px-4 py-3 border-top small">
    <p class="text-muted mb-1 mb-md-0">Copyright Â© 2022 <a href="../index.html" target="_blank">Vacation Feast</a>.</p>
    <!-- <p class="text-muted">Powered By <i class="mb-1 text-primary ms-1 icon-sm" data-feather="heart"></i> Bizberg Themes</p> -->
  </footer>
  <!-- footer Ends -->
	
		</div>
	</div>
  <script>
     document.getElementById("button-1").addEventListener("click", function() {
        // Show the second row
        document.getElementById("blog_all_details3").style.display = "block";
        document.getElementById("blog_all_details4").style.display = "block";
        document.getElementById("button-2").style.display = "block";
        document.getElementById("button-1").style.display = "none";
    });
    document.getElementById("button-2").addEventListener("click", function() {
        // Show the second row
        document.getElementById("blog_all_details5").style.display = "block";
        document.getElementById("blog_all_details6").style.display = "block";
        document.getElementById("button-3").style.display = "block";
        document.getElementById("button-2").style.display = "none";
    });
    document.getElementById("button-3").addEventListener("click", function() {
        // Show the second row
        document.getElementById("blog_all_details7").style.display = "block";
        document.getElementById("blog_all_details8").style.display = "block";
        document.getElementById("button-4").style.display = "block";
        document.getElementById("button-3").style.display = "none";
    });
    document.getElementById("button-4").addEventListener("click", function() {
        // Show the second row
        document.getElementById("blog_all_details9").style.display = "block";
        document.getElementById("blog_all_details10").style.display = "block";
        // document.getElementById("button-4").style.display = "block";
        document.getElementById("button-4").style.display = "none";
    });

   
    

  </script>

	<!-- core:js -->
    <script src="{% static 'vendors/core/core.js' %}"></script>
    <!-- endinject -->
  
    <!-- Plugin js for this page -->
    <script src="{% static 'vendors/chartjs/Chart.min.js'  %}"></script>
    <script src="{% static 'vendors/jquery.flot/jquery.flot.js' %}"></script>
    <script src="{% static 'vendors/jquery.flot/jquery.flot.resize.js' %}"></script>
    <script src="{% static 'vendors/bootstrap-datepicker/bootstrap-datepicker.min.js' %}"></script>
    <script src="{% static 'vendors/apexcharts/apexcharts.min.js' %}"></script>
      <!-- End plugin js for this page -->
  
      <!-- inject:js -->
      <script src="{% static 'vendors/feather-icons/feather.min.js' %}"></script>
      <script src="{% static 'js/admin/template.js' %}"></script>
      <!-- endinject -->
  
      <!-- Custom js for this page -->
    <script src="{% static 'js/admin/dashboard-light.js' %}"></script>
    <script src="{% static 'js/admin/datepicker.js' %}""></script>
      <!-- End custom js for this page -->
      <!-- <script src="{% static 'assets/vendors/tinymce/tinymce.min.js' %}"></script>

      <script src="{% static 'assets/js/tinymce.js' %}"></script> -->

    <script src="{% static 'assets/vendor/tinymce/tinymce.min.js' %}"></script>
  <!-- <script src="assets/vendor/php-email-form/validate.js"></script> -->

  <!-- Template Main JS File -->
    <script src="{% static 'assets/js/main.js' %}"></script>
     <!-- Css -->
   <style>
    .theme {
      color: #029e9d !important;
    }

    .black {
      color: black !important;
    }
    .bg-grey{ 
      background: #f1f1f1  !important;
    }
    </style>
  <!-- Css -->


</body>
</html>    