{% load static %}
<nav class="sidebar">
    <div class="sidebar-header">
      <a href="#" class="sidebar-brand col-lg-8">
        <img src="{% static 'image/home/Magnet logo.png' %}" alt="logo" class="w-75">
      </a>
      <div class="sidebar-toggler not-active">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
    <div class="sidebar-body ps ps--active-y">
      <ul class="nav active-nav">
        <!-- dahboard -->
        <!--<li class="nav-item">-->
        <!--  <a href="{% url 'dashboard' %}" class="nav-link">-->
        <!--    <i class="link-icon" data-feather="box"></i>-->
        <!--    <span class="link-title">Dashboard</span>-->
        <!--  </a>-->
        <!--</li>-->

        <!-- home page  -->

        <li class="nav-item focus-nav user-class" id="user-class" style="display:none">
          <a class="nav-link" data-bs-toggle="collapse" href="#category-HOME" role="button" aria-expanded="false" aria-controls="category">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" style="width:20px;"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#232323" d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"/></svg>
            <span class="link-title">Home page</span>
            <i class="link-arrow" data-feather="chevron-down"></i>
          </a> 
          <div class="collapse" id="category-HOME">
            <ul class="nav sub-menu">
              <li class="nav-item">
                <a href="{% url 'defalut_home_page' %}" class="nav-link">Homepage Default</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-bs-toggle="collapse" href="#category-HOME-1" role="button" aria-expanded="false" aria-controls="category">Theme 1</a>
                <div class="collapse" id="category-HOME-1">
                <ul class="nav sub-menu">
                  <li class="nav-item">
                    <a href="{% url 'Homepage_slider' %}" class="nav-link">Homepage Slider</a>
                  </li>
                  <li class="nav-item">
                    <a href="{% url 'Homepage_topdestination' %}" class="nav-link">International Top Destination</a>
                  </li>
                  <li class="nav-item">
                    <a href="{% url 'Homepage_domestic_topdestination' %}" class="nav-link">Domestic Top Destination</a>
                  </li>
                  <li class="nav-item">
                    <a href="{% url 'categories_cities' %}" class="nav-link"> Categories Cities</a>
                  </li> 
                   <li class="nav-item">
                    <a href="{% url 'categories_view' %}" class="nav-link">Destination Categories</a>
                  </li>
                </ul>
               </div>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-bs-toggle="collapse" href="#category-HOME-2" role="button" aria-expanded="false" aria-controls="category">Theme 2</a>
                <div class="collapse" id="category-HOME-2">
                  <ul class="nav sub-menu">
                    <li class="nav-item">
                      <a href="{% url 'home_page_details' %}" class="nav-link">Homepage Deatils</a>
                    </li>
                  </ul>
                </div>
              </li>
            </ul>
          </div>
        </li>
        <!-- --------------------about us page ---------------------------------------- -->
        <li class="nav-item focus-nav user-class1" id="user-class1" style="display:none">
          <a class="nav-link" data-bs-toggle="collapse" href="#category-aboutus" role="button" aria-expanded="false" aria-controls="category">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="width:16px;"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>
            <span class="link-title">About Us</span>
            <i class="link-arrow" data-feather="chevron-down"></i>
          </a> 
          <div class="collapse" id="category-aboutus">
            <ul class="nav sub-menu">
              <li class="nav-item">
                <a href="{% url 'about_us_update' %}" class="nav-link">About Us Updates</a>
              </li>
              <li class="nav-item">
                <a href="{% url 'about_us_review' %}" class="nav-link">Client Review</a>
              </li>
              <li class="nav-item">
                <a href="{% url 'aboutUsStaff' %}" class="nav-link">Team Member Details</a>
              </li>
              <li class="nav-item">
                <a href="{% url 'addTeam' %}" class="nav-link">Add Team</a>
            </li>
            </ul>
          </div>
        </li>

         <!-- -------------------------------------------------------- destination details--------------- -->

         <li class="nav-item focus-nav " id="user-class2" style="display:none">
          <a class="nav-link" data-bs-toggle="collapse" href="#category-Destination" role="button" aria-expanded="false" aria-controls="category">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" style="width:15px;"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>
            <span class="link-title">Destination Details</span>
            <i class="link-arrow" data-feather="chevron-down"></i>
          </a> 
          <div class="collapse" id="category-Destination">
            <ul class="nav sub-menu">
              <li class="nav-item">
                <a href="{% url 'destination' %}" class="nav-link">Destinations</a>
              </li>
              <li class="nav-item">
                <a href="{% url 'destination_cities' %}" class="nav-link">Destination Cities</a>
              </li>
              <li class="nav-item">
                <a href="{% url 'destination_attraction' %}" class="nav-link">Destination Attraction</a>
              </li>
             <li class="nav-item">
                <a href="{% url 'destination_Metas' %}" class="nav-link">Destination Meta content</a>
              </li>
              <li class="nav-item">
                <a href="{% url 'Continent_Metas' %}" class="nav-link">Continent Meta</a>
              </li>
              
            </ul>
          </div>
        </li>

        <!-- packages -->

        <li class="nav-item focus-nav" id="user-class3" style="display:none">
          <a href="{% url 'packagesadmin' %}" class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" style="width:14px;"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M144 56c0-4.4 3.6-8 8-8h80c4.4 0 8 3.6 8 8v72H144V56zm176 72H288V56c0-30.9-25.1-56-56-56H152C121.1 0 96 25.1 96 56v72H64c-35.3 0-64 28.7-64 64V416c0 35.3 28.7 64 64 64c0 17.7 14.3 32 32 32s32-14.3 32-32H256c0 17.7 14.3 32 32 32s32-14.3 32-32c35.3 0 64-28.7 64-64V192c0-35.3-28.7-64-64-64zM112 224H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 128H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"/></svg>
            <span class="link-title">Packages</span>
          </a>
        </li>

        <!-- blog_us -->
        <li class="nav-item focus-nav" id="user-class4" style="display:none">
          <a href="{% url 'blog_us_admin' %}" class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="width:16px;"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M192 32c0 17.7 14.3 32 32 32c123.7 0 224 100.3 224 224c0 17.7 14.3 32 32 32s32-14.3 32-32C512 128.9 383.1 0 224 0c-17.7 0-32 14.3-32 32zm0 96c0 17.7 14.3 32 32 32c70.7 0 128 57.3 128 128c0 17.7 14.3 32 32 32s32-14.3 32-32c0-106-86-192-192-192c-17.7 0-32 14.3-32 32zM96 144c0-26.5-21.5-48-48-48S0 117.5 0 144V368c0 79.5 64.5 144 144 144s144-64.5 144-144s-64.5-144-144-144H128v96h16c26.5 0 48 21.5 48 48s-21.5 48-48 48s-48-21.5-48-48V144z"/></svg>
            <span class="link-title">Blogs</span>
          </a>
        </li>

        

        <!-- contact_us -->
        <li class="nav-item focus-nav " id="user-class5" style="display:none">
          <a href="{% url 'contact_us_admin' %}" class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="width:15px;"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"/></svg>
            <span class="link-title">Contact Us</span>
          </a>
        </li>
        

        <!-- Footer -->

        <li class="nav-item focus-nav" id="user-class6" style="display:none">
          <a href="{% url 'footer' %}" class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="width:14px;"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M16 132h416c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H16C7.2 60 0 67.2 0 76v40c0 8.8 7.2 16 16 16zm0 160h416c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H16c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h416c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H16c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16z"/></svg>
            <span class="link-title">Footer</span>
          </a>
        </li>
        
        <li class="nav-item focus-nav" id="adduser" style="display:none">
          <a href="{% url 'adduser' %}" class="nav-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" style="width:17px;"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"/></svg>
            <span class="link-title">Add User</span>
          </a>
        </li>
        <li class="nav-item focus-nav" id="addsale" style="display:none">
          <a href="{% url 'useradminpage' %}" class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="width:14px;"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M16 132h416c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H16C7.2 60 0 67.2 0 76v40c0 8.8 7.2 16 16 16zm0 160h416c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H16c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h416c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H16c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16z"/></svg>
            <span class="link-title">User Panel</span>
          </a>
        </li>
        <script>
          document.addEventListener("DOMContentLoaded", function() {
              // Assuming you have a variable called UserRole that holds the role of the user
              var UserRole = document.getElementById("UserRole").value;
              var newUserElement = document.getElementById("adduser");
              var user_class = document.getElementById("user-class");
              var user_class1 = document.getElementById("user-class1");
              var user_class2 = document.getElementById("user-class2");
              var user_class3 = document.getElementById("user-class3");
              var user_class4 = document.getElementById("user-class4");
              var user_class5 = document.getElementById("user-class5");
              var user_class6 = document.getElementById("user-class6");
              
              var addsale = document.getElementById("addsale");
              console.log(UserRole);

              // Check if UserRole is equal to "superadmin"
              if (UserRole === "superadmin") {
                  newUserElement.style.display = "block";
                  addsale.style.display = "block";
                  user_class.style.display = "block";
                 user_class1.style.display = "block";
                 user_class2.style.display = "block";
                 user_class3.style.display = "block";
                 user_class4.style.display = "block";
                 user_class5.style.display = "block";
                 user_class6.style.display = "block";
                  
              }
              
              if (UserRole === "Sales") {
               addsale.style.display = "block";
                 
              }
              if (UserRole === "employee") {
               addsale.style.display = "block";
               user_class.style.display = "block";
                 user_class1.style.display = "block";
                 user_class2.style.display = "block";
                 user_class3.style.display = "block";
                 user_class4.style.display = "block";
                 user_class5.style.display = "block";
                 user_class6.style.display = "block";
                 
              }
              if (UserRole === "admin") {
                 user_class.style.display = "block";
                 user_class1.style.display = "block";
                 user_class2.style.display = "block";
                 user_class3.style.display = "block";
                 user_class4.style.display = "block";
                 user_class5.style.display = "block";
                 user_class6.style.display = "block";

              }
              if (UserRole === "data") {
                 user_class.style.display = "block";
                 user_class1.style.display = "block";
                 user_class2.style.display = "block";
                 user_class3.style.display = "block";
                 user_class4.style.display = "block";
                 user_class5.style.display = "block";
                 user_class6.style.display = "block";

              }
          });
        </script>


        
    </div>
  </nav>
  
  <style>
      .sidebar .sidebar-body .nav .nav-item .nav-link .link-title {
            margin-left: 10px !important;
      }
      
      .sidebar .sidebar-body .nav .nav-item {
          padding:0 6px !important;
      }
      
      .sidebar .sidebar-body .nav.sub-menu .nav-item .nav-link::before {
          left:-9px !important;
      }
      
      .sidebar .sidebar-body .nav.sub-menu {
            padding: 0 -0px 15px 13px !important;
        }
        
        .btn-close {
            border: 2px solid #029e9d;
            border-radius:50%;
        }
        
        .modal-title {
            color:#029e9d;
            font-size:19px;
        }
  </style>
  
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
    $(document).ready(function() {
        function setActiveBasedOnUrl() {
            var currentUrl = window.location.pathname;
    
            // Reset active states
            $('.sidebar-body .nav-item').removeClass('active');
            $('.sidebar-body .nav-link').addClass('collapsed').attr('aria-expanded', 'false');
            $('.sidebar-body .collapse').removeClass('show');
    
            // Set active states based on URL match
            $('.sidebar-body .nav-link').each(function() {
                var link = $(this).attr('href');
                if (currentUrl === link || currentUrl.startsWith(link + '/') || currentUrl.startsWith(link + '?')) {
                    $(this).addClass('active');
                    $(this).removeClass('collapsed').attr('aria-expanded', 'true');
                    $(this).parent().addClass('active'); // Parent <li>
                    $(this).next('.collapse').addClass('show'); // Child elements
                }
            });
    
            // Expand parent items if necessary
            $('.sidebar-body .collapse').each(function() {
                if ($(this).find('.active').length > 0) {
                    $(this).addClass('show');
                    $(this).parent().find('> .nav-link').removeClass('collapsed').attr('aria-expanded', 'true');
                    $(this).parent().addClass('active');
                }
            });
        }
    
        setActiveBasedOnUrl(); // Call this function on page load
    
        // // Optional: Update active states on navigation click
        // $('.sidebar-body .nav-link').click(function() {
        //     setTimeout(setActiveBasedOnUrl, 300); // Update after collapse animation
        // });
    });
    </script>
    

